<!-- <div class="loginWrapper">
  <div class="inner row">
    <div class="col-md-4 col-md-offset-4">

      <div class="login-logo-container">
        <span class="login-logo"></span>
      </div>

      <div class="panel panel-default">

        <div class="panel-heading">
          <h3 class="panel-title">
            <i ng-show="template_vars.show_loading" class="pull-right fa fa-circle-o-notch" ng-class="{'fa-spin': template_vars.show_loading}"></i>
          </h3>
        </div>

        <div class="panel-body">
          <form sf-schema="resetPasswordSchema" sf-form="resetPasswordForm" sf-model="resetPasswordModel" ng-submit="submitSchemaForm(resetPasswordForm)"></form>
        </div>
      </div>
    </div>

  </div>
</div> -->

<div class="loginWrapper">
  <div class="inner row">
    <div class="col-md-4 col-md-offset-4">

      <form bb-form novalidate name="resetPasswordForm" role="form" ng-model="resetPasswordForm" ng-submit="validator.validateForm(resetPasswordForm) && submitSchemaForm(new_password)">

        <div class="login-logo-container">
          <span class="login-logo"></span>
        </div>

        <div class="panel panel-default" ng-show="template_vars.show_reset_password || template_vars.show_reset_password_fail">

          <div class="panel-heading">
            <h3 class="panel-title">
              <i ng-show="template_vars.show_loading" class="pull-right fa fa-circle-o-notch" ng-class="{'fa-spin': template_vars.show_loading}"></i>
              <span ng-show="template_vars.show_reset_password || template_vars.show_reset_password_fail" translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.ENTER_NEW_PASSWORD"></span>
            </h3>
          </div>

          <div class="panel-body">

            <div uib-alert ng-repeat="alert in formErrors" class="alert-danger" close="formErrors.splice($index, 1)"><span translate="{{alert.message}}"></span></div>

            <div class="form-group" ng-class="{'has-error': resetPasswordForm.new_password.$invalid && (!resetPasswordForm.new_password.$pristine || resetPasswordForm.submitted)}">
              <label for="new_password" class="control-label">
                <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.NEW_PASSWORD_LABEL"></span>
              </label>
              <input type="text" ng-model="new_password" class="form-control"
                ng-pattern="reset_password_pattern"
                name="new_password"
                id="new_password"
                autocomplete="off"
                required>
              <div ng-messages="resetPasswordForm.new_password.$error" ng-show="resetPasswordForm.submitted" role="alert">
                <div class="error-message" ng-message="required">
                  <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.ERROR_REQUIRED"></span>
                </div>
                <div class="error-message" ng-message="pattern">
                  <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.ERROR_PASSWORD_PATTERN"></span>
                </div>
              </div>
            </div>

            <div class="form-group" ng-class="{'has-error': resetPasswordForm.confirm_new_password.$invalid && (!resetPasswordForm.confirm_new_password.$pristine || resetPasswordForm.submitted)}">
              <label for="confirm_new_password">
                <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.CONFIRM_NEW_PASSWORD_LABEL"></span>
              </label>
              <input bb-match-input="new_password" type="text" ng-model="confirm_new_password" class="form-control"
                name="confirm_new_password"
                id="confirm_new_password"
                autocomplete="off"
                required>
              <div ng-messages="resetPasswordForm.confirm_new_password.$error" ng-show="resetPasswordForm.submitted" role="alert">
                <div class="error-message" ng-message="required">
                  <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.ERROR_REQUIRED"></span>
                </div>
                <div class="error-message" ng-message="match">
                  <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.ERROR_PASSWORD_MATCH"></span>
                </div>
              </div>
            </div>

          </div>

          <div class="panel-footer">
            <button type="submit" class="btn btn-primary btn-lg btn-block" ng-disabled="template_vars.show_loading"><i class="fa fa-paper-plane-o"></i>
              <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.RESET_PASSWORD_BTN"></span>
            </button>
            <a type="button" ng-click="goBackToLogin()" class="btn btn-link" ng-disabled="template_vars.show_loading">
              <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.BACK_BTN"></span>
            </a>
          </div>

        </div>

        <div class="panel panel-default" ng-show="template_vars.show_reset_password_success">

          <div class="panel-heading">
            <h3 class="panel-title">
              <i ng-show="template_vars.show_loading" class="pull-right fa fa-circle-o-notch" ng-class="{'fa-spin': template_vars.show_loading}"></i>
              <span ng-show="template_vars.show_reset_password_success" translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.FORM_SUBMIT_SUCCESS"></span>
            </h3>
          </div>

          <div class="panel-body">
            <div class="form-group">
              <p><span ng-show="template_vars.show_reset_password_success" translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.FORM_SUBMIT_SUCCESS_MSG"></span>
              </p>
            </div>
          </div>

          <div class="panel-footer">
            <a type="button" ng-click="goBackToLogin()" class="btn btn-link" ng-disabled="template_vars.show_loading">
              <span translate="ADMIN_DASHBOARD.RESET_PASSWORD_PAGE.BACK_BTN"></span>
            </a>
          </div>

        </div>

      </form>

    </div>

  </div>
</div>
