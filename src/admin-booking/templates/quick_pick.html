<div class="bb-quick-pick" bb-wait-for="quickEmptybasket()" bb-wait-var="all_done" ng-if="all_done" bb-form-data-store bb-page>

  <div ng-form name="appointment-booking-form">

    <h1>Make a Booking</h1>

    <div bb-services>
      <div class="form-group">
        <label>Service</label>
        
        <!-- TODO use display_name -->
        <select id="service" ng-model="service" ng-options="s.name for s in bookable_services | orderBy: 'name'" class="form-control">
          <option value="">-- select a service --</option>
        </select>
        
      </div>
    </div>
    
    <button type="button" class="btn btn-primary" ng-click="checkReady() && routeReady('calendar')" bb-debounce ng-disabled="!bb.current_item.service">Book</button>

    <hr>

  </div>

  <div ng-form name="block_time_form" class="bb-block-time" bb-block-time>

    <h1>Block Time</h1>
    <div class="form-group" ng-class="{'has-error': resourceError}">
      <label>For</label>
      <select id="resource" ng-model="picked_resource" ng-change="changeResource()" ng-options="item.identifier as item.name group by item.group for item in resources" class="form-control">
        <option value="">-- select --</option>
      </select>
      <p class="text-danger" ng-init="resourceError=false" ng-show="resourceError">Please select a resource or member of staff</p>
    </div>
    <div class="form-group" ng-init="blockWholeDay = false" ng-hide="hideBlockAllDay">
      <label>Block whole day &nbsp;&nbsp;<toggle-switch ng-model="blockWholeDay" ng-change="changeBlockDay(blockWholeDay)" class="switch-primary switch-small" on-label="Yes" off-label="No"></toggle-switch></label>
    </div>
    <div class="row" ng-hide="blockWholeDay">
      <div class="col-md-6">
        <div class="form-group">
          <label>From</label>
          <div bb-date-time-picker date="config.from_datetime" max-date="config.to_datetime" min-date="config.min_date"></div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>To</label>
          <div bb-date-time-picker date="config.to_datetime" min-date="config.from_datetime" max-date="config.max_date"></div>
        </div>
      </div>
    </div>

    <button type="button" class="btn btn-primary" ng-click="blockTime()" bb-debounce ng-disabled="false">Block Time</button>

  </div>

  <hr>

</div>
