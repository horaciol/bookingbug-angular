<div class="bb-quick-pick" bb-wait-for="quickEmptybasket()" bb-wait-var="all_done" ng-if="all_done" bb-form-data-store bb-page>

  <div ng-form name="appointment-booking-form">

    <h1 translate="MAKE_BOOKING"></h1>

    <div bb-services>
      <div class="form-group">
        <label translate="ITEM_SERVICE"></label>
        
        <!-- TODO use display_name -->
        <select id="service" ng-model="service" ng-options="s.name for s in bookable_services | orderBy: 'name'" class="form-control">
          <option value="">-- {{'SELECT_A_SERVICE' | translate}} --</option>
        </select>

      </div>
    </div>
    
    <button type="button" class="btn btn-primary" ng-click="checkReady() && routeReady('calendar')" bb-debounce ng-disabled="!bb.current_item.service" translate="PROGRESS_BOOK"></button>

  </div>
  <hr>

  <div ng-form name="block_time_form" class="bb-block-time" bb-block-time>

    <h1 translate="BLOCK_TIME"></h1>
    <div class="form-group" ng-class="{'has-error': resourceError}">
      <label translate="FOR_SERVICE"></label>
      <select id="resource" ng-model="picked_resource" ng-change="changeResource()" ng-options="item.identifier as item.name group by item.group for item in resources" class="form-control">
        <option value="">-- select --</option>
      </select>
      <p class="text-danger" ng-init="resourceError=false" ng-show="resourceError">Please select a resource or member of staff</p>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label translate="ITEM_FROM"></label>
          <div bb-date-time-picker date="config.from_datetime"></div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label translate="ITEM_TO"></label>
          <div bb-date-time-picker date="config.to_datetime"></div>
        </div>
      </div>
    </div>

    <button type="button" class="btn btn-primary" ng-click="blockTime()" bb-debounce ng-disabled="false" translate="BLOCK_TIME"></button>


  </div>

</div>
