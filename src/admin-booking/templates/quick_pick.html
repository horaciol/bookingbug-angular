<div class="bb-quick-pick" bb-wait-for="quickEmptybasket()" bb-wait-var="all_done" ng-if="all_done" bb-form-data-store bb-page>

  <div ng-form name="appointment-booking-form">

    <h1 translate="MAKE_BOOKING"></h1>

    <div bb-services>
      <div class="form-group">
        <label translate="ITEM_SERVICE"></label>
        
        <!-- TODO use display_name -->
        <select id="service" ng-model="service" ng-options="s.name for s in bookable_services | orderBy: 'name'" class="form-control">
          <option value="">-- {{'SELECT_A_SERVICE' | translate}} --</option>
        </select>

      </div>
    </div>
    
    <button type="button" class="btn btn-primary" ng-click="checkReady() && routeReady()" bb-debounce ng-disabled="!bb.current_item.service">Book</button>

  </div>

  <hr>

  <div ng-form name="block_time_form" class="bb-block-time" bb-block-time>

    <h1 translate="BLOCK_TIME"></h1>

    <div class="form-group">
      <label translate="FOR_SERVICE"></label>
      <p ng-show="bb.current_item.person.name">
        {{bb.current_item.person.name}}
      </p>
      <p ng-show="bb.current_item.resource.name">
        {{bb.current_item.resource.name}}
      </p>
    </div>

    <div class="form-group">
      <label translate="ITEM_FROM"></label>
      <div bb-date-time-picker="block_time.from"></div>
    </div>

    <div class="form-group">
      <label translate="ITEM_TO"></label>
      <div bb-date-time-picker="block_time.to"></div>
    </div>

    <button type="button" class="btn btn-primary" ng-click="blockTime()" bb-debounce ng-disabled="false" translate="BLOCK_TIME"></button>


  </div>

</div>
